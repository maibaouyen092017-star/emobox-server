<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Emobox โ Kแบฟt nแปi yรชu thฦฐฦกng</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="topbar">
    <div class="brand">
      <img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=160&auto=format&fit=crop&ixlib=rb-4.0.3&s=9a3c3d5f3c8b2dc9f1d7b3d6f2f6c1d8"
           alt="logo" />
      <div>
        <h1>Emobox</h1>
        <p class="tag">Lแปi nรณi thรขn thฦฐฦกng, nhแบฏc nhแป tแปซng phรบt</p>
      </div>
    </div>

    <div class="auth-area">
      <div id="userBadge" class="user-badge" style="display:none;">
        <span id="userName"></span>
        <button onclick="logout()" class="link-btn">ฤฤng xuแบฅt</button>
      </div>

      <div id="authForm" class="auth-form">
        <input id="email" placeholder="Email" type="email" />
        <input id="password" placeholder="Mแบญt khแบฉu" type="password" />
        <div class="auth-btns">
          <button onclick="signup()" class="small">ฤฤng kรฝ</button>
          <button onclick="login()" class="small primary">ฤฤng nhแบญp</button>
        </div>
      </div>
    </div>
  </header>

  <main class="wrap">
    <section class="hero">
      <div class="hero-left">
        <h2>Giแปฏ liรชn kแบฟt yรชu thฦฐฦกng โ cho ngฦฐแปi giร, cho gia ฤรฌnh</h2>
        <p>Ghi รขm lแปi nhแบฏn โ ฤแบทt bรกo thแปฉc bแบฑng giแปng nรณi โ gแปญi trแปฑc tiแบฟp tแปi thiแบฟt bแป Emobox แป viแปn dฦฐแปกng lรฃo.</p>

        <div class="quick-actions">
          <button onclick="showTab('voicePanel')" class="cta">Gแปญi giแปng nรณi ngay</button>
          <button onclick="showTab('alarmPanel')" class="cta alt">ฤแบทt bรกo thแปฉc bแบฑng giแปng nรณi</button>
        </div>

        <div class="info-cards">
          <div class="card">
            <img src="https://images.unsplash.com/photo-1519340333755-7d8bb7b3d8c3?q=80&w=600&auto=format&fit=crop&ixlib=rb-4.0.3&s=601dafb2a4b3b4a5b3b8fde9a4f07e6b" alt="">
            <h4>Cho ngฦฐแปi giร</h4>
            <p>Giแปng nรณi thรขn thuแปc giรบp hแป dแป phแบฃn แปฉng vร cแบฃm thแบฅy an tรขm.</p>
          </div>
          <div class="card">
            <img src="https://images.unsplash.com/photo-1524504388940-b1c1722653e1?q=80&w=600&auto=format&fit=crop&ixlib=rb-4.0.3&s=6d8b0ae6aef9d2b5b5f3a3b4f7d1db3d" alt="">
            <h4>Cho trแบป em</h4>
            <p>Tin nhแบฏn giแปng nรณi แบฅm รกp cho bรฉ ngแปง ngon hoแบทc nhแบฏc uแปng sแปฏa.</p>
          </div>
        </div>
      </div>

      <div class="hero-right">
        <div class="panel" id="voicePanel">
          <h3>๐ค Gแปญi giแปng nรณi trแปฑc tiแบฟp</h3>
          <p class="muted">Ghi รขm rแปi gแปญi ngay โ thiแบฟt bแป sแบฝ phรกt lแบญp tแปฉc nแบฟu ฤang online.</p>

          <div class="rec-block">
            <button id="startVoice" onclick="startRecord('voice')" class="large">Bแบฏt ฤแบงu</button>
            <button id="stopVoice" onclick="stopRecord('voice')" class="large" disabled> Dแปซng</button>
            <button id="sendVoice" onclick="sendVoiceNow()" class="large primary" disabled>Gแปญi</button>
            <audio id="audioVoice" controls></audio>
            <small class="hint">Lฦฐu รฝ: bแบกn phแบฃi <b>ฤฤng nhแบญp</b> ฤแป gแปญi</small>
          </div>
        </div>

        <div class="panel" id="alarmPanel" style="display:none;">
          <h3>โฐ ฤแบทt bรกo thแปฉc bแบฑng giแปng nรณi</h3>
          <p class="muted">Ghi รขm tรชn bรกo thแปฉc (vรญ dแปฅ "Uแปng thuแปc") โ chแปn thแปi gian โ tแบกo.</p>

          <div class="rec-block">
            <input id="alarmTime" type="datetime-local" />
            <div class="row">
              <button id="startAlarm" onclick="startRecord('alarm')" class="med">Ghi tรชn bรกo thแปฉc</button>
              <button id="stopAlarm" onclick="stopRecord('alarm')" class="med" disabled>Dแปซng</button>
              <button id="uploadAlarm" onclick="createAlarm()" class="med primary" disabled>ฤแบทt bรกo thแปฉc</button>
            </div>
            <audio id="audioAlarm" controls></audio>
            <small class="hint">Bรกo thแปฉc sแบฝ phรกt <i>nhแบกc nแปn + giแปng bแบกn</i> khi ฤแบฟn giแป.</small>
          </div>
        </div>

        <div class="panel" id="filesPanel" style="margin-top:14px;">
          <h4>๐ Bแบฃn ghi cแปงa bแบกn</h4>
          <ul id="fileList" class="file-list"></ul>
        </div>
      </div>
    </section>

    <section class="bottom">
      <div class="left">
        <h3>Hฦฐแปng dแบซn nhanh</h3>
        <ol>
          <li>ฤฤng kรฝ / ฤฤng nhแบญp (gรณc phแบฃi trรชn)</li>
          <li>Ghi รขm vร <b>Gแปญi</b> hoแบทc <b>ฤแบทt bรกo thแปฉc</b></li>
          <li>ESP32 sแบฝ nhแบญn vร phรกt khi ฤแบฟn giแป (hoแบทc ngay lแบญp tแปฉc vแปi <i>Gแปญi giแปng nรณi</i>)</li>
        </ol>
      </div>

      <div class="right">
        <h3>Thiแบฟt bแป & cแบฅu hรฌnh</h3>
        <p>Phรกt hot-spot ฤแป cแบฅu hรฌnh Wi-Fi, ESP lฦฐu cแบฅu hรฌnh vร kแบฟt nแปi tแปi server cแปงa bแบกn.</p>
        <button onclick="openWifiModal()" class="small">Cแบฅu hรฌnh Wi-Fi cho ESP</button>
      </div>
    </section>
  </main>

  <!-- Wifi modal -->
  <div id="wifiModal" class="modal" style="display:none;">
    <div class="modal-card">
      <h4>Gแปญi Wi-Fi ฤแบฟn ESP</h4>
      <input id="espId" placeholder="ESP ID (vรญ dแปฅ emobox-01)">
      <input id="ssid" placeholder="SSID (wifi)">
      <input id="spass" placeholder="Password (wifi)">
      <div class="row right">
        <button onclick="closeWifiModal()">ฤรณng</button>
        <button class="primary" onclick="saveEspWifi()">Gแปญi</button>
      </div>
    </div>
  </div>

  <footer class="footer">
    ยฉ 2025 Emobox โ Dแปฑ รกn KHKT. Nhแป thรชm file <b>/music/alarm.mp3</b> vรo server ฤแป bรกo thแปฉc phรกt nhแบกc nแปn.
  </footer>

  <script src="main.js"></script>
</body>
</html>
