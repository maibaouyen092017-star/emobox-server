<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>EmoBox โ Kแบฟt nแปi yรชu thฦฐฦกng</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
  <footer class="text-center mt-4 py-3 bg-light border-top">
  <small class="text-muted">
    ยฉ 2025 โ <b>Mai Phฦฐแปc Gia Bแบฃo</b> | EmoBox Realtime Voice & Alarm
  </small>
</footer>
<body class="bg-light">
  <nav class="navbar navbar-expand-lg navbar-white bg-white shadow-sm">
    <div class="container">
      <a class="navbar-brand d-flex align-items-center" href="#">
        <img src="https://img.icons8.com/fluency/48/000000/music-notes.png" width="36" class="me-2"/>
        <strong>EmoBox</strong>
      </a>
      <div id="navAuth" class="ms-auto">
        <button id="btnLogin" class="btn btn-outline-primary me-2">ฤฤng nhแบญp</button>
        <button id="btnSignup" class="btn btn-primary">ฤฤng kรฝ</button>
      </div>
      <div id="navUser" class="d-none ms-auto align-items-center">
        <span id="navUserName" class="me-2"></span>
        <button id="btnLogout" class="btn btn-sm btn-outline-secondary">ฤฤng xuแบฅt</button>
      </div>
    </div>
  </nav>

  <main class="container py-4">
    <div class="row g-4">
      <div class="col-12 col-md-6">
        <div class="card shadow-sm p-3">
          <h4>๐ค Gแปญi lแปi nhแบฏn ngay (Realtime)</h4>
          <p class="text-muted small">Ghi รขm, nghe lแบกi, gแปญi ngay โ ESP sแบฝ nhแบญn vร phรกt nแบฟu ฤang online.</p>

          <div class="d-grid gap-2">
            <button id="btnStartNow" class="btn btn-danger btn-lg">๐๏ธ Ghi รขm ngay</button>
            <button id="btnStopNow" class="btn btn-secondary btn-lg" disabled>โน๏ธ Dแปซng</button>
            <audio id="audioNow" controls class="w-100 mt-2" style="display:none"></audio>
            <input id="nowTitle" class="form-control mt-2" placeholder="Tiรชu ฤแป (vรญ dแปฅ: Lแปi chรบc)" />
            <select id="nowDevice" class="form-select mt-2">
              <option value="all">Toรn bแป thiแบฟt bแป</option>
              <option value="emobox-01">Thiแบฟt bแป emobox-01</option>
            </select>
            <button id="btnSendNow" class="btn btn-success" disabled>๐ค Gแปญi ngay</button>
          </div>
        </div>

        <div class="card shadow-sm p-3 mt-4">
          <h4>โฐ ฤแบทt bรกo thแปฉc bแบฑng giแปng nรณi</h4>
          <p class="text-muted small">Chแปn ngรy + giแป, ghi รขm lแปi nhแบฏn โ ฤแบฟn giแป ESP sแบฝ phรกt nhแบกc bรกo + giแปng bแบกn.</p>

          <div class="mb-2">
            <input id="alarmDate" type="date" class="form-control mb-2" />
            <input id="alarmTime" type="time" class="form-control mb-2" />
            <input id="alarmTitle" class="form-control mb-2" placeholder="Tรชn bรกo thแปฉc (vรญ dแปฅ: Uแปng thuแปc)" />
          </div>

          <div class="d-grid gap-2">
            <button id="btnStartAlarm" class="btn btn-warning">๐๏ธ Ghi รขm cho bรกo thแปฉc</button>
            <button id="btnStopAlarm" class="btn btn-secondary" disabled>โน๏ธ Dแปซng</button>
            <audio id="audioAlarm" controls class="w-100 mt-2" style="display:none"></audio>
            <button id="btnSetAlarm" class="btn btn-primary" disabled>๐พ Lฦฐu bรกo thแปฉc</button>
          </div>
        </div>
      </div>

      <div class="col-12 col-md-6">
        <div class="card shadow-sm p-3">
          <h4>๐ฐ๏ธ Lแปch & Tin nhแบฏn cแปงa bแบกn</h4>
          <div id="messagesList" style="max-height:600px; overflow:auto"></div>
        </div>
        <div class="card shadow-sm p-3 mt-3 text-center">
          <h5 class="fw-bold mb-3">๐ Hฦฐแปng dแบซn sแปญ dแปฅng</h5>
        <p>
  - Ghi รขm vร gแปญi tin nhแบฏn: chแปn "Gแปญi lแปi nhแบฏn ngay", thu รขm, nghe lแบกi vร gแปญi.<br>
  - ฤแบทt bรกo thแปฉc bแบฑng giแปng nรณi: chแปn ngรy, giแป, ghi รขm lแปi nhแบฏc.<br>
  - ESP sแบฝ phรกt lแบกi tin nhแบฏn/bรกo thแปฉc khi ฤแบฟn giแป hoแบทc khi cรณ tin mแปi.<br>
  - Cแบงn ฤฤng nhแบญp ฤแป lฦฐu lแปch sแปญ tin nhแบฏn vร bรกo thแปฉc.<br>
  - Dแปฏ liแปu ฤฦฐแปฃc bแบฃo mแบญt trรชn MongoDB, cแบญp nhแบญt realtime.
      </p>


        </div>
      </div>
    </div>
  </main>

  <!-- Auth modal -->
  <div class="modal" tabindex="-1" id="authModal">
    <div class="modal-dialog">
      <div class="modal-content p-3">
        <div class="modal-header">
          <h5 id="authTitle" class="modal-title">ฤฤng nhแบญp</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <input id="authName" class="form-control mb-2" placeholder="Tรชn (khi ฤฤng kรฝ)" />
          <input id="authEmail" class="form-control mb-2" placeholder="Email" />
          <input id="authPassword" type="password" class="form-control mb-2" placeholder="Mแบญt khแบฉu" />
        </div>
        <div class="modal-footer">
          <button id="authSubmit" class="btn btn-primary">OK</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="main.js"></script>
</body>
</html>
